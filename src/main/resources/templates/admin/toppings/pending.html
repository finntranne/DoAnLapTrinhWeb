<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layouts/admin-layout.html}">

<head>
<title>Quản lý Toppings</title>
</head>

<body>
	<main class="app-main">
		<div layout:fragment="content">
			<div class="container mt-4">
				<div class="d-flex justify-content-between align-items-center mb-3">
					<h3 class="fw-bold mb-0">Quản lý Topping</h3>
				</div>

				<div class="mb-3">
					<a th:href="@{/admin/toppings/selling}"
						class="btn btn-success me-2"> Sản phẩm đang bán </a> <a
						th:href="@{/admin/toppings/pending}" class="btn btn-warning me-2">
						Chờ phê duyệt </a>

				</div>

				<div class="table-responsive shadow-sm rounded">
					<table class="table  table-hover align-middle">
						<thead class="table-success">
							<tr>
								<th scope="col">ApprovalID</th>
								<th scope="col">Tên topping</th>
								<th scope="col">Yêu cầu</th>
								<th scope="col">Ngày yêu cầu</th>
								<th scope="col">Shop</th>
								<th scope="col">Thao tác</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="tp : ${toppings}">
						
								<td th:text="${tp.approvalId}"></td>

								<td th:text="${tp.topping.toppingName}"></td>

								<td th:text="${tp.actionType}"></td>

								<td
									th:text="${#temporals.format(tp.requestedAt, 'HH:mm dd/MM/yyyy')}"></td>

								<td th:text="${tp.shop.shopName}"></td>

								<td><a
									th:href="@{/admin/toppings/pending/detail/{id}(id=${tp.approvalId})}"
									class="btn btn-outline-info btn-sm "> <i class="bi bi-eye"></i>
								</a></td>


							</tr>
						</tbody>
					</table>
				</div>
			</div>



			<nav th:if="${totalPages > 1}" class="mt-4">
				<ul class="pagination justify-content-center flex-wrap">
					<li class="page-item"
						th:classappend="${currentPage == 1} ? 'disabled'"><a
						class="page-link rounded-pill shadow-sm border-0"
						th:href="@{'/admin/products?page=' + ${currentPage - 1}}"> <i
							class="bi bi-chevron-double-left"></i>
					</a></li>

					<li class="page-item" th:if="${currentPage > 3}"><a
						class="page-link rounded-pill shadow-sm border-0"
						th:href="@{'/admin/products?page=1'}">1</a></li>

					<li class="page-item disabled" th:if="${currentPage > 4}"><span
						class="page-link border-0 bg-transparent">...</span></li>

					<li class="page-item mx-1"
						th:each="page : ${#numbers.sequence(currentPage - 1, currentPage + 1)}"
						th:if="${page >= 1 and page <= totalPages}"
						th:classappend="${page == currentPage} ? 'active'"><a
						class="page-link rounded-pill shadow-sm border-0 fw-semibold"
						th:href="@{'/admin/products?page=' + ${page}}" th:text="${page}"></a>
					</li>

					<li class="page-item disabled"
						th:if="${currentPage < totalPages - 3}"><span
						class="page-link border-0 bg-transparent">...</span></li>

					<li class="page-item" th:if="${currentPage < totalPages - 2}">
						<a class="page-link rounded-pill shadow-sm border-0"
						th:href="@{'/admin/products?page=' + ${totalPages}}"
						th:text="${totalPages}"></a>
					</li>

					<li class="page-item"
						th:classappend="${currentPage == totalPages} ? 'disabled'"><a
						class="page-link rounded-pill shadow-sm border-0"
						th:href="@{'/admin/products?page=' + ${currentPage + 1}}"> <i
							class="bi bi-chevron-double-right"></i>
					</a></li>
				</ul>
			</nav>
		</div>


	</main>



</body>
</html>